# Конфигурация переменных окружения для Vercel

## Frontend (Next.js) - Environment Variables

Откройте ваш проект на Vercel → Settings → Environment Variables

Добавьте следующую переменную:

```
NEXT_PUBLIC_API_URL=https://fastpayai-back.onrender.com
```

**ВАЖНО:** Переменные с префиксом `NEXT_PUBLIC_` доступны в браузере и необходимы для работы API.

## После добавления переменной:

1. Нажмите **Save**
2. Перейдите в раздел **Deployments**
3. Нажмите **Redeploy** на последнем деплойменте
4. Выберите **Redeploy** (не нужно очищать кэш для переменных окружения)
5. Подождите 1-2 минуты пока проект пересоберется

## Проверка работоспособности:

После деплоя откройте в браузере (или в мобильном):
```
https://fast-pay-ai.vercel.app
```

Попробуйте создать оплату через CryptoBot:
1. Выберите любой товар
2. Нажмите "Купить"
3. Выберите криптовалюту (TON или USDT)
4. Нажмите "Перейти к оплате"

Должно открыться окно CryptoBot с платежом.

## Как проверить что переменная применилась:

Откройте консоль разработчика в браузере (F12) и введите:
```javascript
console.log(process.env.NEXT_PUBLIC_API_URL)
```

**Внимание:** Эта проверка НЕ работает, так как переменные встраиваются на этапе сборки. Но вы можете проверить через Network вкладку - запросы должны идти на `https://fastpayai-back.onrender.com`.

## Важно:

- Переменная должна быть **БЕЗ** кавычек
- URL должен быть **БЕЗ** слеша в конце
- После изменения переменных обязательно сделайте Redeploy
- Переменные с `NEXT_PUBLIC_` встраиваются в код при сборке, поэтому требуется пересборка

## Если оплата все еще не работает:

1. Убедитесь что на Render (backend) настроена переменная `CRYPTOBOT_TOKEN`
2. Проверьте что backend работает: https://fastpayai-back.onrender.com/payment/test-cryptobot
3. Откройте DevTools → Network и проверьте куда идут запросы при оплате
4. Если запросы идут на неправильный URL - очистите кэш Vercel и пересоберите проект
