# Telegram Integration - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üöÄ –ó–∞ 10 –º–∏–Ω—É—Ç –∫ –∑–∞–ø—É—Å–∫—É

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ (2 –º–∏–Ω—É—Ç—ã)

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram ‚Üí –Ω–∞–π–¥–∏—Ç–µ **@BotFather**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è: `Tech Shop`
4. –í–≤–µ–¥–∏—Ç–µ username: `your_shop_bot` (–ª—é–±–æ–π —Å–≤–æ–±–æ–¥–Ω—ã–π)
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw`)

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok (3 –º–∏–Ω—É—Ç—ã)

**macOS:**
```bash
brew install ngrok
```

**–ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ:** https://ngrok.com/download

**–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –ø–æ–ª—É—á–∏—Ç–µ authtoken:**
```bash
ngrok config add-authtoken YOUR_AUTHTOKEN
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä—ã (1 –º–∏–Ω—É—Ç–∞)

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend:**
```bash
cd /Users/onlyonhigh/work/WebAppShop/backend
npm run dev:mock
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Frontend:**
```bash
cd /Users/onlyonhigh/work/WebAppShop/frontend
npm run dev
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 3 - ngrok:**
```bash
ngrok http 3000
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏–∑ ngrok** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram –±–æ—Ç–∞ (2 –º–∏–Ω—É—Ç—ã)

**–í Telegram:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ @BotFather
2. `/mybots` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí **Bot Settings** ‚Üí **Menu Button**
3. **Edit Menu Button URL**
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à ngrok URL: `https://abc123.ngrok.io`

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Python –±–æ—Ç–∞ (2 –º–∏–Ω—É—Ç—ã)

```bash
cd /Users/onlyonhigh/work/WebAppShop/telegram-bot

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
cp .env.example .env
```

**–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª:**
```bash
nano .env
```

–í—Å—Ç–∞–≤—å—Ç–µ:
```
BOT_TOKEN=7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw
WEB_APP_URL=https://abc123.ngrok.io
```

(–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è)

### –®–∞–≥ 6: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ (1 –º–∏–Ω—É—Ç–∞)

**–¢–µ—Ä–º–∏–Ω–∞–ª 4 - Telegram Bot:**
```bash
cd /Users/onlyonhigh/work/WebAppShop/telegram-bot
source venv/bin/activate
python bot.py
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!
```

### –®–∞–≥ 7: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ! üéâ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ `/start`
3. –ù–∞–∂–º–∏—Ç–µ **"üõç –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω"**
4. –ì–æ—Ç–æ–≤–æ! üöÄ

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –∑–∞–ø—É—Å–∫–∞

- [ ] Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:3001`
- [ ] Frontend –∑–∞–ø—É—â–µ–Ω –Ω–∞ `http://localhost:3000`
- [ ] ngrok –∑–∞–ø—É—â–µ–Ω –∏ –≤—ã–¥–∞–ª –ø—É–±–ª–∏—á–Ω—ã–π URL
- [ ] URL ngrok –¥–æ–±–∞–≤–ª–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
- [ ] `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º –∏ URL
- [ ] Python –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω"
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram –Ω–∞ `/start`

---

## üîß –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### Web App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ 3 —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø—É—â–µ–Ω—ã (backend, frontend, ngrok)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –≤ .env —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å URL –∏–∑ ngrok

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ .env —Ñ–∞–π–ª–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±–æ—Ç–∞

### –î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001/health –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"status":"ok","mode":"mock"}`

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
WebAppShop/
‚îú‚îÄ‚îÄ frontend/           # Next.js (localhost:3000)
‚îú‚îÄ‚îÄ backend/            # Fastify (localhost:3001)
‚îî‚îÄ‚îÄ telegram-bot/       # Python –±–æ—Ç
    ‚îú‚îÄ‚îÄ bot.py         # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
    ‚îú‚îÄ‚îÄ .env           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å–æ–∑–¥–∞–π—Ç–µ —Å–∞–º–∏)
    ‚îú‚îÄ‚îÄ requirements.txt
    ‚îî‚îÄ‚îÄ start.sh       # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

1. **–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤**
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ MongoDB** –≤–º–µ—Å—Ç–æ mock –¥–∞–Ω–Ω—ã—Ö
3. **–î–æ–±–∞–≤—å—Ç–µ —Å–∏—Å—Ç–µ–º—É –æ–ø–ª–∞—Ç—ã** (Telegram Payments)
4. **–ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä** (Vercel, Railway, VPS)

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [TELEGRAM_INTEGRATION.md](./TELEGRAM_INTEGRATION.md)

---

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Telegram Web App –º–∞–≥–∞–∑–∏–Ω! üéä
