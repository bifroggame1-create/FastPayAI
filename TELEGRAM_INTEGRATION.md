# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞](#1-—Å–æ–∑–¥–∞–Ω–∏–µ-telegram-–±–æ—Ç–∞)
2. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞](#2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ª–æ–∫–∞–ª—å–Ω–æ–≥–æ-—Å–µ—Ä–≤–µ—Ä–∞)
3. [–°–æ–∑–¥–∞–Ω–∏–µ Python –±–æ—Ç–∞](#3-—Å–æ–∑–¥–∞–Ω–∏–µ-python-–±–æ—Ç–∞)
4. [–î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)](#4-–¥–µ–ø–ª–æ–π-–Ω–∞-—Å–µ—Ä–≤–µ—Ä)
5. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#5-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## 1. –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

### –®–∞–≥ 1.1: –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ **@BotFather**
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Tech Shop")
4. –í–≤–µ–¥–∏—Ç–µ username –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "techshop_marketplace_bot")
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞** - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–∑–∂–µ

```
–ü—Ä–∏–º–µ—Ä —Ç–æ–∫–µ–Ω–∞: 7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw
```

### –®–∞–≥ 1.2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Web App URL

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ BotFather –∫–æ–º–∞–Ω–¥—É `/mybots`
2. –í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞
3. –ù–∞–∂–º–∏—Ç–µ **"Bot Settings"** ‚Üí **"Menu Button"** ‚Üí **"Edit Menu Button URL"**
4. –ü–æ–∫–∞ –æ—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ - –≤–µ—Ä–Ω–µ–º—Å—è –ø–æ–∑–∂–µ, –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–∏–º –ø—É–±–ª–∏—á–Ω—ã–π URL

---

## 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ngrok (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

#### –®–∞–≥ 2.1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok

```bash
# macOS
brew install ngrok

# –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å https://ngrok.com/download
```

#### –®–∞–≥ 2.2: –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ ngrok.com

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://ngrok.com
2. –ü–æ–ª—É—á–∏—Ç–µ authtoken
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ ngrok:

```bash
ngrok config add-authtoken YOUR_AUTHTOKEN
```

#### –®–∞–≥ 2.3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok –¥–ª—è frontend

```bash
ngrok http 3000
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
Forwarding: https://abc123.ngrok.io -> http://localhost:3000
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç URL** - —ç—Ç–æ –±—É–¥–µ—Ç URL –≤–∞—à–µ–≥–æ Web App!

#### –®–∞–≥ 2.4: –û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ BotFather
2. `/mybots` ‚Üí –í–∞—à –±–æ—Ç ‚Üí **Bot Settings** ‚Üí **Menu Button** ‚Üí **Edit Menu Button URL**
3. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à ngrok URL: `https://abc123.ngrok.io`

---

## 3. –°–æ–∑–¥–∞–Ω–∏–µ Python –±–æ—Ç–∞

### –®–∞–≥ 3.1: –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±–æ—Ç–∞

```bash
cd /Users/onlyonhigh/work/WebAppShop
mkdir telegram-bot
cd telegram-bot
```

### –®–∞–≥ 3.2: –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
python3 -m venv venv
source venv/bin/activate
```

### –®–∞–≥ 3.3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install aiogram python-dotenv
```

### –®–∞–≥ 3.4: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env

```bash
cat > .env << EOF
BOT_TOKEN=YOUR_BOT_TOKEN_HERE
WEB_APP_URL=https://your-ngrok-url.ngrok.io
EOF
```

–ó–∞–º–µ–Ω–∏—Ç–µ:
- `YOUR_BOT_TOKEN_HERE` –Ω–∞ —Ç–æ–∫–µ–Ω –æ—Ç BotFather
- `https://your-ngrok-url.ngrok.io` –Ω–∞ –≤–∞—à ngrok URL

### –®–∞–≥ 3.5: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –±–æ—Ç–∞ (bot.py)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `bot.py` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```python
import os
from aiogram import Bot, Dispatcher, types
from aiogram.filters import Command
from aiogram.types import WebAppInfo, InlineKeyboardMarkup, InlineKeyboardButton, MenuButtonWebApp
from dotenv import load_dotenv
import asyncio
import logging

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()

BOT_TOKEN = os.getenv('BOT_TOKEN')
WEB_APP_URL = os.getenv('WEB_APP_URL')

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
bot = Bot(token=BOT_TOKEN)
dp = Dispatcher()


@dp.message(Command('start'))
async def cmd_start(message: types.Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start"""

    # –°–æ–∑–¥–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–æ–π Web App
    keyboard = InlineKeyboardMarkup(
        inline_keyboard=[
            [
                InlineKeyboardButton(
                    text="üõç –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω",
                    web_app=WebAppInfo(url=WEB_APP_URL)
                )
            ]
        ]
    )

    welcome_text = (
        f"üëã –ü—Ä–∏–≤–µ—Ç, {message.from_user.first_name}!\n\n"
        "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à –º–∞–≥–∞–∑–∏–Ω —Ç–µ—Ö–Ω–∏–∫–∏!\n\n"
        "üîπ –¢–µ–ª–µ—Ñ–æ–Ω—ã\n"
        "üîπ –ù–∞—É—à–Ω–∏–∫–∏\n"
        "üîπ –ß–∞—Å—ã\n"
        "üîπ –ü–ª–∞–Ω—à–µ—Ç—ã\n"
        "üîπ –ù–æ—É—Ç–±—É–∫–∏\n"
        "üîπ –ö–æ–Ω—Å–æ–ª–∏\n\n"
        "–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥ üëá"
    )

    await message.answer(welcome_text, reply_markup=keyboard)


@dp.message(Command('help'))
async def cmd_help(message: types.Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help"""
    help_text = (
        "üì± <b>–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–∞–≥–∞–∑–∏–Ω–æ–º:</b>\n\n"
        "1Ô∏è‚É£ –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω¬ª\n"
        "2Ô∏è‚É£ –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–æ–≤–∞—Ä–æ–≤\n"
        "3Ô∏è‚É£ –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥\n"
        "4Ô∏è‚É£ –î–æ–±–∞–≤—å—Ç–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è —Ç–æ–≤–∞—Ä—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ ‚ù§Ô∏è\n"
        "5Ô∏è‚É£ –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –ø–æ–∫—É–ø–∫–µ\n\n"
        "<b>–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:</b>\n"
        "/start - –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω\n"
        "/help - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É\n"
        "/shop - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–∞–≥–∞–∑–∏–Ω—É\n"
    )

    await message.answer(help_text, parse_mode='HTML')


@dp.message(Command('shop'))
async def cmd_shop(message: types.Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /shop - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–∞–≥–∞–∑–∏–Ω—É"""
    keyboard = InlineKeyboardMarkup(
        inline_keyboard=[
            [
                InlineKeyboardButton(
                    text="üõç –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω",
                    web_app=WebAppInfo(url=WEB_APP_URL)
                )
            ]
        ]
    )

    await message.answer("–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–∞–≥–∞–∑–∏–Ω–∞:", reply_markup=keyboard)


async def set_menu_button():
    """–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –º–µ–Ω—é –∫–∞–∫ Web App"""
    try:
        await bot.set_chat_menu_button(
            menu_button=MenuButtonWebApp(
                text="üõç –ú–∞–≥–∞–∑–∏–Ω",
                web_app=WebAppInfo(url=WEB_APP_URL)
            )
        )
        logger.info("‚úÖ –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞")
    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é: {e}")


async def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞"""
    logger.info("üöÄ –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...")

    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –º–µ–Ω—é
    await set_menu_button()

    # –ó–∞–ø—É—Å–∫–∞–µ–º polling
    logger.info("‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!")
    await dp.start_polling(bot)


if __name__ == '__main__':
    asyncio.run(main())
```

### –®–∞–≥ 3.6: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª requirements.txt

```bash
cat > requirements.txt << EOF
aiogram==3.13.1
python-dotenv==1.0.1
EOF
```

### –®–∞–≥ 3.7: –°–æ–∑–¥–∞–π—Ç–µ start.sh —Å–∫—Ä–∏–ø—Ç

```bash
cat > start.sh << 'EOF'
#!/bin/bash

echo "üöÄ –ó–∞–ø—É—Å–∫ Tech Shop Telegram Bot..."

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
if [ -d "venv" ]; then
    source venv/bin/activate
else
    echo "‚ùå –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –°–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π: python3 -m venv venv"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ .env —Ñ–∞–π–ª–∞
if [ ! -f ".env" ]; then
    echo "‚ùå –§–∞–π–ª .env –Ω–µ –Ω–∞–π–¥–µ–Ω!"
    echo "–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:"
    echo "BOT_TOKEN=your_bot_token"
    echo "WEB_APP_URL=your_webapp_url"
    exit 1
fi

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python bot.py
EOF

chmod +x start.sh
```

---

## 4. –ó–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã

### –®–∞–≥ 4.1: –û—Ç–∫—Ä–æ–π—Ç–µ 4 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

**–¢–µ—Ä–º–∏–Ω–∞–ª 1: Backend API**
```bash
cd /Users/onlyonhigh/work/WebAppShop/backend
npm run dev:mock
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2: Frontend**
```bash
cd /Users/onlyonhigh/work/WebAppShop/frontend
npm run dev
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 3: ngrok**
```bash
ngrok http 3000
```
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏–∑ –≤—ã–≤–æ–¥–∞ ngrok (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://abc123.ngrok.io`)

**–¢–µ—Ä–º–∏–Ω–∞–ª 4: Telegram Bot**
```bash
cd /Users/onlyonhigh/work/WebAppShop/telegram-bot
source venv/bin/activate
python bot.py
```

### –®–∞–≥ 4.2: –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª –±–æ—Ç–∞

–û—Ç–∫—Ä–æ–π—Ç–µ `/Users/onlyonhigh/work/WebAppShop/telegram-bot/.env` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ:

```env
BOT_TOKEN=YOUR_BOT_TOKEN_FROM_BOTFATHER
WEB_APP_URL=YOUR_NGROK_URL
```

### –®–∞–≥ 4.3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ 4
# –ù–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:
python bot.py
```

---

## 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 5.1: –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –ø–æ username (–Ω–∞–ø—Ä–∏–º–µ—Ä, @techshop_marketplace_bot)
2. –ù–∞–∂–º–∏—Ç–µ "Start" –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

### –®–∞–≥ 5.2: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üõç –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω"
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Web App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ:
   - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –î–æ–±–∞–≤–ª—è—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
   - –û—Ç–∫—Ä—ã–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
   - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤

### –®–∞–≥ 5.3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é

–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é (—Å–ø—Ä–∞–≤–∞ –æ—Ç –ø–æ–ª—è –≤–≤–æ–¥–∞) - –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "üõç –ú–∞–≥–∞–∑–∏–Ω"

---

## 6. –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä (Production)

### –í–∞—Ä–∏–∞–Ω—Ç –ê: Vercel (–¥–ª—è Frontend)

#### –®–∞–≥ 6.1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI

```bash
npm i -g vercel
```

#### –®–∞–≥ 6.2: –î–µ–ø–ª–æ–π Frontend

```bash
cd /Users/onlyonhigh/work/WebAppShop/frontend
vercel
```

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º. –í—ã –ø–æ–ª—É—á–∏—Ç–µ production URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://your-app.vercel.app`)

#### –®–∞–≥ 6.3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í Vercel Dashboard:
1. Settings ‚Üí Environment Variables
2. –î–æ–±–∞–≤—å—Ç–µ `NEXT_PUBLIC_API_URL` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º URL –≤–∞—à–µ–≥–æ backend API

### –í–∞—Ä–∏–∞–Ω—Ç –ë: Railway (–¥–ª—è Backend + Frontend)

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://railway.app
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç –í: VPS (–ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å)

#### Backend –Ω–∞ VPS:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /var/www
git clone your-repo
cd WebAppShop/backend
npm install
npm run build

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PM2 –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ —Ñ–æ–Ω–µ
npm install -g pm2
pm2 start dist/server.js --name techshop-backend
pm2 save
pm2 startup
```

#### Frontend –Ω–∞ VPS:

```bash
cd /var/www/WebAppShop/frontend
npm install
npm run build
npm start

# –ò–ª–∏ —Å PM2
pm2 start npm --name techshop-frontend -- start
```

#### –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx:

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
    }
}
```

#### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SSL:

```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

---

## 7. Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Web App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ngrok –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ .env —Ñ–∞–π–ª–µ –±–æ—Ç–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ frontend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001/health –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏ CORS

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ .env
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ Telegram

### –ü—Ä–æ–±–ª–µ–º–∞: ngrok URL –º–µ–Ω—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- ngrok –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–∞–µ—Ç –Ω–æ–≤—ã–π URL –∫–∞–∂–¥—ã–π —Ä–∞–∑
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é ngrok –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ URL
- –ò–ª–∏ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –¥–æ–º–µ–Ω–æ–º

---

## 8. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤:

```bash
# Backend
curl http://localhost:3001/health

# Frontend
curl http://localhost:3000

# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ API
curl http://localhost:3001/products
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤:

```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã
lsof -i :3000  # Frontend
lsof -i :3001  # Backend

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill -9 PID
```

### –õ–æ–≥–∏:

```bash
# PM2 –ª–æ–≥–∏
pm2 logs techshop-backend
pm2 logs techshop-frontend

# –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
pm2 flush
```

---

## 9. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤—ã –º–æ–∂–µ—Ç–µ:

1. **–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö MongoDB**
   - –ó–∞–º–µ–Ω–∏—Ç–µ `dev:mock` –Ω–∞ `dev` –≤ backend
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ MongoDB Atlas –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π MongoDB

2. **–î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –æ–ø–ª–∞—Ç—ã**
   - Telegram Payments API
   - –ÆKassa
   - Stripe

3. **–î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö
   - –°—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏

4. **–£–ª—É—á—à–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**
   - –ö–æ—Ä–∑–∏–Ω–∞
   - –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
   - –ß–∞—Ç —Å –ø—Ä–æ–¥–∞–≤—Ü–æ–º

---

## 10. –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab –Ω–∞ –æ—à–∏–±–∫–∏ API

–£–¥–∞—á–∏! üöÄ
